<!doctype html>

<html lang="en">
  <meta charset="utf-8">

  <title>The TERRY Binder</title>
  <meta name="description" content="a jQuery databinder">
  <meta name="author" content="froggr">
	<link id="bootstyle" rel="stylesheet" href="./assets/css/bootstrap.min.css">

	<style>

.jumbotron { margin-bottom: 40px; background: black; }
.jumbotron small { color: white; }
.terrylogo {display:block; margin: -96px auto;}
.page-header { background-color: red; font-size: 30px; font-weight: bold; text-align:center; padding:30px;}
blockquote { color: #fff; background: green;}
.text-warning{color: yellow; font-weight: bold;}
.text-danger{color: red; font-weight: bold;}
.text-info {color: darkblue; font-weight: bold;}
.affix { top: 30px; width: inherit; padding-right: 25px; }
.picofterry{ height: 200px; margin: 0 auto; display: block; }
pre {white-space : pre-line;}
pre#jsondump {white-space : pre;}

	</style>


<style id="terrystyle">
body { visibility: hidden; background: black; }
.string { color: green; }
.number { color: darkorange; }
.boolean { color: blue; }
.null { color: magenta; }
.key { color: red; }
.highlight pre {white-space: pre;}
.bs-example{background: #bbbbbb;	color: #000000;	padding: 30px;}
.jumbotron h1{	font-size: 35px;	text-transform: none;	-webkit-animation:rainbow 1s infinite;	-ms-animation:rainbow 1s infinite;	-o-animation:rainbow 1s infinite;	animation:rainbow 1s infinite;}
.rainbow, strong {	-webkit-animation:rainbow 1s infinite;	-ms-animation:rainbow 1s infinite;	-o-animation:rainbow 1s infinite;	animation:rainbow 1s infinite; }
input.form-control, select.form-control{ background: white; color: black; min-height: 25px; }
figure { color: yellow;background: teal; padding: 20px;	margin-bottom: 20px;}
div#editohya {	background-color: white; padding:15px; height: 50px; width:100%;color:black;margin-bottom:15px; }
hr, section { border-top: 2px solid #ffffff; }
section { padding: 20px 0; }
[selected] {background-color: black; color: grey;}
ol>li { list-style-type: decimal; padding-bottom: 10px;}
@-webkit-keyframes rainbow {
	0% {color: #ff0000;}
	10% {color: #ff8000;}
	20% {color: #ffff00;}
	30% {color: #80ff00;}
	40% {color: #00ff00;}
	50% {color: #00ff80;}
	60% {color: #00ffff;}
	70% {color: #0080ff;}
	80% {color: #0000ff;}
	90% {color: #8000ff;}
	100% {color: #ff0080;}
}
@-ms-keyframes rainbow {
	0% {color: #ff0000;}
	10% {color: #ff8000;}
	20% {color: #ffff00;}
	30% {color: #80ff00;}
	40% {color: #00ff00;}
	50% {color: #00ff80;}
	60% {color: #00ffff;}
	70% {color: #0080ff;}
	80% {color: #0000ff;}
	90% {color: #8000ff;}
	100% {color: #ff0080;}
}
@-o-keyframes rainbow {
	0% {color: #ff0000;}
	10% {color: #ff8000;}
	20% {color: #ffff00;}
	30% {color: #80ff00;}
	40% {color: #00ff00;}
	50% {color: #00ff80;}
	60% {color: #00ffff;}
	70% {color: #0080ff;}
	80% {color: #0000ff;}
	90% {color: #8000ff;}
	100% {color: #ff0080;}
}
@keyframes rainbow {
	0% {color: #ff0000;}
	10% {color: #ff8000;}
	20% {color: #ffff00;}
	30% {color: #80ff00;}
	40% {color: #00ff00;}
	50% {color: #00ff80;}
	60% {color: #00ffff;}
	70% {color: #0080ff;}
	80% {color: #0000ff;}
	90% {color: #8000ff;}
	100% {color: #ff0080;}
}

</style>

  <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
  <![endif]-->


  <div class="container" >
	  <div class="jumbotron"><img src="./assets/img/terry.gif" class="terrylogo"/><small>a simple jQuery data binder. Originally forked from <em>petersirka/jquery.bindings</em></small>
	  </div>
	  <div id="container" data-model-name="obj" data-bind-on-loa data-model-autosave>
		  <p>Just write some stuff in this super ghetto-oldschool-retro form i got her and see it be bound!</p>
		  <hr>
		  <div class="row">
			  <div class="col-sm-4">
				  <div id="theform">
					  <div class="bs-example">
						  <h1>The Form:</h1>
						  <div class="form-group">
							  <label>Some Property</label>
							  <input class="form-control" type="text" data-model="property" />
						  </div>
						  <div class="form-group">
							  <label>The things I like to drink and eat</label>
							  <select multiple class="form-control" data-model="somearray">
								  <option>chips</option>
								  <option>beer</option>
								  <option>candy</option>
								  <option>pop</option>
								  <option>flowers</option>
							  </select>
						  </div>
						  <div class="form-group">
							  <label style="display:block;">Bootstrap Buttons</label>
							  <div class="btn-group" data-toggle="buttons">
								  <label class="btn btn-danger" for="gender">Male<input type="radio" id="gender" name="gender" data-model="gender" value="male"></label>
								  <label class="btn btn-danger" for="gender">Female <input type="radio" name="gender" id="gender" data-model="gender" value="female"></label>
								  <label class="btn btn-danger" for="gender">Other<input type="radio" name="gender" id="gender" data-model="gender" value="other"></label>
							  </div>
						  </div>
						  <div class="form-group">
							  <label>A select</label>
							  <select data-model="select" class="form-control"> <option>1</option> <option>2</option> <option>3</option> <option>4</option> <option>5</option> </select>
						  </div>
						  <div class="form-group">
							  <label>Property in a content-editable div</label>
							  <div id="editohya" style="" contenteditable="true" data-model="property"></div>
						  </div>
					  </div>
					  <a class="btn btn-success btn-lg" href="https://github.com/froggr/terry.binder.js">GITHUB BAM!</a>
				  </div>
			  </div><!--end row sm-4-->
			  <div class="col-sm-8">
				  <h2 class="rainbow">Check out my sweetness that is bindings!</h2>
				  <figure class="highlight">
					  <p>This is a <span data-model="property"></span></p>
					  <p>I just wanna eat <span data-model="somearray" data-format="arrayjoin"></span></p>
					  <p>What's my gender? <span data-model="gender"></span>!</p>
					  <p>You will pay me $<span data-model="select"></span> million dollars!</p>
				  </figure>
				  <h1>The Model JSON:</h1>
				  <pre id="jsondump"></pre>
			  </div>
		  </div><!--end row -->
	  </div><!-- end obj model -->

	  <!-- The Docs! -->
	  <div class="row">
		  <div class="col-sm-9">
			  <section id="docs">
				  <div class="page-header">The Docs - UNDER CONSTRUCTION</div>
				  <p class="lead">I will try and keep this as simple as possible...</p>
				  <section>
					  <p class="lead"><strong>1.) Who is Terry?</strong></p>
					  <p><img class="picofterry" src="./assets/img/itsterry.gif"></p>
					  <p>Terry doesn't give no... snacks. He keeps it simple, and if its not simple, he flips the <em>flubber</em> out!</p> So it is for Terry that this... thing was put together. 
					  <strong>'At a boy Terry!</strong></p>
				  </section>
				  <section>
					  <p class="lead"><strong>2.) What does this thing do?</strong></p>
					  <p>Well, this allows you to simply bind data from a javascript object to html elements, and get the data back again.</p>
					  <p><strong>YA YA! I KNOW!</strong> Another one of these right? Why not use angular? Why not knockout or backbone or react? Terry wants simple! So thats what Terry gets!
					  Sometime when you've had bout' 30 too many, you want something quick and dirty to get the job done.</p>
					  <blockquote>
						  <p>Why get dressed when you can go out in your underpants?</p>
						  <small class="rainbow">Terry</small>
					  </blockquote>
					  <ul>
						  <li>The binder connects a JSON with HTML elements according to a <code>data-model</code> attribute</li>
						  <li>The <code>data-model</code> contains the property name from the object thats being binded</li>
						  <li><code>&lt;input&gt;</code>, <code>&lt;select&gt;</code>, <code>&lt;div contenteditable="true"&gt;</code> and <code>&lt;textarea&gt;</code> work with two-way data-bindings</li>
						  <li>The <code>data-model</code> is updated when data changes either through and input or by modifying the model manually. I'll get to that.</li>
					  </ul>
				  </section>
			  </section>
			  <section id="basics">
				  <div class="page-header">The Basics</div>
				  <p><strong>First thing</strong> - Include the jQuery (>1.1) and then this script.<p>
				  <p>
				  <strong>Then define bindings via html attributes</strong>
				  <ol>
					  <li>Start by defining the name of the model with a <code>data-model-name</code> attribute in what we'll call the <em>parent</em> element</li>
					  <ul>
						  <li>Like this: <code>&lt;div id="somediv" <span class="rainbow">data-model-name="muppetBabies"</span>&gt;...&lt;div&gt;</code> where you're being a werido and have data about muppet babies... weird.</li>
					  </ul>
					  <li>Next you add some html entities (inputs, selects, textareas, divs, whatever!) <strong>inside</strong> of the <em>parent element</em> and bind them to a model property using the <code>data-model</code> attribute</li>
					  <li>If you want to have Terry bind the model when the page loads, just add <code>data-bind-on-load</code> as an attribute somewhere in the page, say in the <code>body</code>?</li>
					  <li>So you'll end up with something like this:<br>
					  <pre>&lt;<span class="pl-ent">div</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>container<span class="pl-pds">"</span></span> <span class="rainbow">data-model-name</span>="muppetBabies"&gt;
							&emsp;&emsp; &lt;<span class="pl-ent">input</span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span> <span class="pl-e rainbow">data-model</span>="coolness_level"</span> /&gt;
							&emsp;&emsp; &lt;<span class="pl-ent">div</span> <span class="pl-e rainbow">data-model</span>="muppet_name"</span>&gt;&lt;/<span class="pl-ent">div</span>&gt;
						&lt;/<span class="pl-ent">div</span>&gt;</pre></li>
					  <li>If you DON'T want to have Terry bind the model when the page loads, don't include <code>data-bind-on-load</code> and instead use:</li>
					  <ul>
						  <li><code>$.fn.binder('create');</code> to bind all elements with models defined through <code>data-mode-name</code></li>
						  <li><code>$.fn.binder('create','nameOfModel');</code> to bind a particular model in a page that is defined through the <code>data-mode-name</code> attribute</li>
						  <li><code>$('#somediv').binder('create');</code> to bind all models within a particular element with a model defined through <code>data-mode-name</code></li>
						  <li><code>$('#somediv').binder('create','nameOfModel');</code> to bind a particular model in particular element that is defined through the <code>data-mode-name</code> attribute</li>
						  <li>I hope you're getting the picture...</li>
					  </ul>
				  </ol>
				  </p>
				  <hr><br><br>
				  <blockquote>TO BIND USE -> $.fn.binder('<span class="text-warning">ACTION</span>,'<span class="text-danger">MODEL_NAME</span>',<span class="text-info">DATA</span>)</blockquote>
				  <h4>So lets break this down</h4>
				  <div class="alert alert-warning"><span class="text-info">$.fn</span>.binder('ACTION','MODEL_NAME',DATA);</div>
				  <ul>
					  <li>You can either not reference an element (ie leave it as shown above)</li>
					  <li>or reference an element that has the <code>data-model-name-attribute</code> ie <code>$('#someelement').binder......</code></li>
					  <li>The first way would either look for instances of <code>[data-model-name]</code> within the page and start model binding for all of them, or relay on the <span class="text-danger">'MODEL_NAME'</span> to find it.</li>
				  </ul>
				  <div class="alert alert-warning">$.fn.binder(<span class="text-info">'ACTION'</span>,'MODEL_NAME','DATA');</div>
				  <h4>This is the action that you want the <strong>Terry Binder</strong> to perform. This is a <strong>STRING</strong> and available actions inclue:</h4>
				  <ul>
					  <li><span class="text-danger">create</span> - This action is used to creating the binding between model and html elements</li>
					  <li><span class="text-danger">model</span> - This action tells the binder to return the model data for use in Javascript. This is the DEFAULT value.</li>
					  <li><span class="text-danger">refresh</span> - If the model has been modified externally, this action will refresh the data in the HTML</li>
					  <li><span class="text-danger">update</span> - This action allows you to pass data to the binder to update the model manually</li>
					  <li><span class="text-danger">destroy</span> - This action destroys the data binding for a particular model</li>
				  </ul>
				  <div class="alert alert-warning">$.fn.binder('ACTION',<span class="text-info">'MODEL_NAME'</span>,'DATA');</div>
				  <h4>This is an OPTIONAL STRING that tell the binders what to name the model, and what <code>data-model-name</code> attribute to use.</h4>
				  <div class="alert alert-warning">$.fn.binder('ACTION','MODEL_NAME',<span class="text-info">'DATA'</span>);</div>
				  <h4>This is a data OBJECT to fill the model. This is OPTIONAL. See the <a href="#binding"><em>Model Binding</em></a> section below to learn more.</h4> 

			  </section>
			  <section id="binding">
				  <div class="page-header">Model Binding!</div>
				  <h4>To start, you need to define your model. Models are JSON objects and can have nested properties. At this point Terry has had a few too many so keep the data structure simple. We can get more complex once he sobers up.</h4>
				  <h4>So lets say we have this object:</h4>
				  <pre>var obj = { 
					&emsp;&emsp;'property1' : 123,
					&emsp;&emsp;'property2' : 'Terry is da bomb',
					&emsp;&emsp;'property300' : 'oh yeah boom'
					}</pre>
				  <h4>And we want to bind it to this form:</h4>
				  <pre>&lt;form data-model-name=&quot;someModel&quot; id=&quot;someform&quot;&gt;
					&emsp;&emsp; &lt;input type=&quot;text&quot; data-model=&quot;property1&quot;&gt;
					&emsp;&emsp; &lt;input type=&quot;number&quot; data-model=&quot;property2&quot;&gt;
					&emsp;&emsp; &lt;input type=&quot;text&quot; data-model=&quot;property3&quot;&gt;
					&lt;/form&gt;</pre>
				  <h4>To bind, we have a couple options! First would be a binder <strong>create</strong> on the jQuery form element like this:</h4>
					  <pre class="text-danger">$.fn.binder('create','someModel',obj);</pre>
					  <h4>Through the <code>data-model-name</code>, binder will know the object to be used to build the model.</h4>
					  <h4>Binder will return the model to you when you call:</h4>
					  <pre>$('#someform').binder('model');
						&emsp;//eg. var somevariable = $('#someform').binder('model');

						&emsp;//or you can use
						$.fn.binder('model','someModel');
					  </pre>
					  <h4>Both of the above will return the exact same thing.</h4>
					  <h4>If your object has the same name as the <code>data-model-attribute</code> and is in scope of binder, then binder will detect the model automatically when initiated. You can also define the binder model manually:</h4>
					  <pre>$.binder.model.someModel = {
						&emsp;&emsp;attribute1 : "I am a value",
						&emsp;&emsp;attribute2 : "Yet another value",
						&emsp;&emsp;attribute3 : 123321
						}

						$.fn.binder('create');
					  </pre><br><br>
						
				  </section>
					<section id="validation">
						<div class="page-header">Model Validation and Templates</div>
						<p><strong>Coming Soon...</strong></p>


				  </section>
				  <section id="events">
					  <div class="page-header">Events</div>

					  <h3>Model Create</h3>
					  <p>This event occurs as soon as a model is bound by the binder</p>
					  <pre>$('#form').on('model-create', function(e, model) { 
							&emsp;&emsp;// Is triggered after $.fn.binder('create')
						});</pre>

					  <h3>Model Update</h3>
						<p>This fires on all manual model updates</p>
						<pre>
						$('#form').on('model-update', function(e, model, path) {
							 // Is triggered after is the model updated - eg $.fn.binder('update')
						});
						</pre>
					  <h3>Model Change</h3>
						<p>This event firest every time a model is changed through an html element</p>
						<pre>
						$('#form').on('model-change', function(e, path, value, model, name, element) {
							 // DO SOMETHING!!!!
						});
						</pre>
					  <h3>Model Destroy</h3>
						<p>After the bindings have been removed, this model fires.</p>
						<pre>
						$('#form').on('model-destroy', function(e) {
							 // Is triggered when is destroyed binding
						});
						</pre>
					  <h3>Model Default</h3>
						<p>Fires when resetting a model back to its default state.</p>
						<pre>
						$('#form').on('model-default', function(e, model) {
							 // set to the default model
						});
						</pre>
					  <h3>Model Validation</h3>
						<p>This will fire when a model that is set to validate fails</p>
						<pre>

						$('#form').on('model-validate', function(e, errorlist) {
							 errorlist[0].path;
							 errorlist[0].value;
							 errorlist[0].element;
						});

						// OR

						$('#form').on('validate', function(e, errorlist) {
							 errorlist[0].path;
							 errorlist[0].value;
							 errorlist[0].element;
						});
						</pre>



			  </section>
				<section id="helpers">
					<div class="page-header">Helpers</div>
					<p><strong>coming soon</strong></p>
				</section>

		  </div><!-- end col-sm-8 DOCS -->
		  <div class="col-sm-3" id="docsnav">
			  <div class="list-group" data-spy="affix" data-offset-top="950">
				  <a class="list-group-item "href="#docs">Intro</a>
				  <a class="list-group-item" href="#basics">The Basics</a>
				  <a class="list-group-item" href="#binding">Model Binding</a>
				  <a class="list-group-item" href="#validation">Validation/Templates</a>
				  <a class="list-group-item" href="#events">Events</a>
				  <a class="list-group-item" href="#helpers">Helpers</a>
				  <a class="list-group-item disabled"></a>
				  <a href="#" class="list-group-item" onclick="swapStyleSheet()">Un-Terry-fy These Docs</a>
			  </div>
		  </div>
	  </div>
  </div>

<script   src="https://code.jquery.com/jquery-1.12.4.min.js"   integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ="   crossorigin="anonymous"></script>
<script src="./terry-binder.js"></script>
<script src="./assets/js/bootstrap.min.js"></script>

<script>

/*$.binder.model["obj"] = {
				property : 'test',
				somearray: ["chips", "candy", "pop"],
				gender: 'male', 
				select: '2'
			};*/

$.binder.scope.second = {model:{ title : 'oh yeah!' }};

 $.binder.scope.obj = {model : {
				property : 'test',
				somearray: ["chips", "candy", "pop"],
				gender: 'male', 
				select: '2'
			}};

$('#container').binder('create');
//$.fn.binder('create');

$('#container').on('model-update', function(e, model, path) {
	var str = JSON.stringify(model, undefined, 4)
	var cold = syntaxHighlight(str);
    $('#jsondump').html(cold);
});

$.binder.format = function(path, value, format, model, name) {
			if ((value instanceof Array)&&(format == 'arrayjoin')){
					return value.join(', ');
			}
			return value;
};

function syntaxHighlight(json) {
    json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
    return json.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g, function (match) {
        var cls = 'number';
        if (/^"/.test(match)) {
            if (/:$/.test(match)) {
                cls = 'key';
            } else {
                cls = 'string';
            }
        } else if (/true|false/.test(match)) {
            cls = 'boolean';
        } else if (/null/.test(match)) {
            cls = 'null';
        }
        return '<span class="' + cls + '">' + match + '</span>';
    });
}

	$('#jsondump').html(syntaxHighlight(JSON.stringify($.binder.scope.obj.model, undefined, 4)));
    


_386 = { onePass: true, speedFactor: 1.25 };



function swapStyleSheet(){
		$('#bootstyle').attr('href', 'https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css');
		$('#terrystyle').remove();
}


</script>




</html>
