<!doctype html>

<html lang="en">
  <meta charset="utf-8">

  <title>The TERRY Binder</title>
  <meta name="description" content="a jQuery databinder">
  <meta name="author" content="froggr">
	<link rel="stylesheet" href="./assets/css/bootstrap.min.css">

<style>
body { visibility: hidden; background: black; }
.string { color: green; }
.number { color: darkorange; }
.boolean { color: blue; }
.null { color: magenta; }
.key { color: red; }
.highlight pre {white-space: pre;}
.bs-example{background: #bbbbbb;	color: #000000;	padding: 30px;}
.jumbotron h1{	font-size: 35px;	text-transform: none;	-webkit-animation:rainbow 1s infinite;	-ms-animation:rainbow 1s infinite;	-o-animation:rainbow 1s infinite;	animation:rainbow 1s infinite;}
.jumbotron { margin-bottom: 40px; background: black; }
.rainbow, strong {	-webkit-animation:rainbow 1s infinite;	-ms-animation:rainbow 1s infinite;	-o-animation:rainbow 1s infinite;	animation:rainbow 1s infinite; }
.terrylogo {display:block; margin: -96px auto;}
.page-header { background-color: red; font-size: 30px; font-weight: bold; text-align:center; padding:30px;}
input.form-control, select.form-control{ background: white; color: black; min-height: 25px; }
figure { color: yellow;background: teal; padding: 20px;	margin-bottom: 20px;}
div#editohya {	background-color: white; padding:15px; height: 50px; width:100%;color:black;margin-bottom:15px; }
.picofterry{ height: 200px; margin: 0 auto; display: block; }
.affix { top: 30px; width: inherit; padding-right: 25px; }
hr, section { border-top: 2px solid #ffffff; }
section { padding: 20px 0; }
blockquote { color: #fff; background: green; }
[selected] {background-color: black; color: grey;}
ol>li { list-style-type: decimal; padding-bottom: 10px;}
@-webkit-keyframes rainbow {
	0% {color: #ff0000;}
	10% {color: #ff8000;}
	20% {color: #ffff00;}
	30% {color: #80ff00;}
	40% {color: #00ff00;}
	50% {color: #00ff80;}
	60% {color: #00ffff;}
	70% {color: #0080ff;}
	80% {color: #0000ff;}
	90% {color: #8000ff;}
	100% {color: #ff0080;}
}
@-ms-keyframes rainbow {
	0% {color: #ff0000;}
	10% {color: #ff8000;}
	20% {color: #ffff00;}
	30% {color: #80ff00;}
	40% {color: #00ff00;}
	50% {color: #00ff80;}
	60% {color: #00ffff;}
	70% {color: #0080ff;}
	80% {color: #0000ff;}
	90% {color: #8000ff;}
	100% {color: #ff0080;}
}
@-o-keyframes rainbow {
	0% {color: #ff0000;}
	10% {color: #ff8000;}
	20% {color: #ffff00;}
	30% {color: #80ff00;}
	40% {color: #00ff00;}
	50% {color: #00ff80;}
	60% {color: #00ffff;}
	70% {color: #0080ff;}
	80% {color: #0000ff;}
	90% {color: #8000ff;}
	100% {color: #ff0080;}
}
@keyframes rainbow {
	0% {color: #ff0000;}
	10% {color: #ff8000;}
	20% {color: #ffff00;}
	30% {color: #80ff00;}
	40% {color: #00ff00;}
	50% {color: #00ff80;}
	60% {color: #00ffff;}
	70% {color: #0080ff;}
	80% {color: #0000ff;}
	90% {color: #8000ff;}
	100% {color: #ff0080;}
}

</style>

  <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
  <![endif]-->


  <div class="container" >
	  <div class="jumbotron"><img src="./assets/img/terry.gif" class="terrylogo"/><small>a simple jQuery data binder. Originally forked from <em>petersirka/jquery.bindings</em></small>
	  </div>
	  <div id="container" data-model-name="obj" data-bind-on-load>
		  <p>Just write some stuff in this super ghetto-oldschool-retro form i got her and see it be bound!</p>
		  <hr>
		  <div class="row">
			  <div class="col-sm-4">
				  <div id="theform">
					  <div class="bs-example">
						  <h1>The Form:</h1>
						  <div class="form-group">
							  <label>Some Property</label>
							  <input class="form-control" type="text" data-model="property" />
						  </div>
						  <div class="form-group">
							  <label>The things I like to drink and eat</label>
							  <select multiple class="form-control" data-model="somearray">
								  <option>chips</option>
								  <option>beer</option>
								  <option>candy</option>
								  <option>pop</option>
								  <option>flowers</option>
							  </select>
						  </div>
						  <div class="form-group">
							  <label style="display:block;">Bootstrap Buttons</label>
							  <div class="btn-group" data-toggle="buttons">
								  <label class="btn btn-danger" for="gender">Male<input type="radio" id="gender" name="gender" data-model="gender" value="male"></label>
								  <label class="btn btn-danger" for="gender">Female <input type="radio" name="gender" id="gender" data-model="gender" value="female"></label>
								  <label class="btn btn-danger" for="gender">Other<input type="radio" name="gender" id="gender" data-model="gender" value="other"></label>
							  </div>
						  </div>
						  <div class="form-group">
							  <label>A select</label>
							  <select data-model="select" class="form-control"> <option>1</option> <option>2</option> <option>3</option> <option>4</option> <option>5</option> </select>
						  </div>
						  <div class="form-group">
							  <label>Property in a content-editable div</label>
							  <div id="editohya" style="" contenteditable="true" data-model="property"></div>
						  </div>
					  </div>
					  <a class="btn btn-success btn-lg" href="https://github.com/froggr/terry.binder.js">GITHUB BAM!</a>
				  </div>
			  </div><!--end row sm-4-->
			  <div class="col-sm-8">
				  <h2 class="rainbow">Check out my sweetness that is bindings!</h2>
				  <figure class="highlight">
					  <p>This is a <span data-model="property"></span></p>
					  <p>I just wanna eat <span data-model="somearray" data-format="arrayjoin"></span></p>
					  <p>What's my gender? <span data-model="gender"></span>!</p>
					  <p>You will pay me $<span data-model="select"></span> million dollars!</p>
				  </figure>
				  <h1>The Model JSON:</h1>
				  <pre id="jsondump"></pre>
			  </div>
		  </div><!--end row -->
	  </div><!-- end obj model -->

	  <!-- The Docs! -->
	  <div class="row">
		  <div class="col-sm-9">
			  <section id="docs">
				  <div class="page-header">The Docs - UNDER CONSTRUCTION</div>
				  <p class="lead">I will try and keep this as simple as possible...</p>
				  <section>
					  <p class="lead"><strong>1.) Who is Terry?</strong></p>
					  <p><img class="picofterry" src="./assets/img/itsterry.gif"></p>
					  <p>Terry doesn't give no... snacks. He keeps it simple, and if its not simple, he flips the <em>flubber</em> out!</p> So it is for Terry that this... thing was put together. 
					  <strong>'At a boy Terry!</strong></p>
				  </section>
				  <section>
					  <p class="lead"><strong>2.) What does this thing do?</strong></p>
					  <p>Well, this allows you to simply bind data from a javascript object to html elements, and get the data back again.</p>
					  <p><strong>YA YA! I KNOW!</strong> Another one of these right? Why not use angular? Why not knockout or backbone or react? Terry wants simple! So thats what Terry gets!
					  Sometime when you've had bout' 30 too many, you want something quick and dirty to get the job done.</p>
					  <blockquote>
						  <p>Why get dressed when you can go out in your underpants?</p>
						  <small class="rainbow">Terry</small>
					  </blockquote>
					  <ul>
						  <li>The binder connects a JSON with HTML elements according to a <code>data-model</code> attribute</li>
						  <li>The <code>data-model</code> contains the property name from the object thats being binded</li>
						  <li><code>&lt;input&gt;</code>, <code>&lt;select&gt;</code>, <code>&lt;div contenteditable="true"&gt;</code> and <code>&lt;textarea&gt;</code> work with two-way data-bindings</li>
						  <li>The <code>data-model</code> is updated when data changes either through and input or by modifying the model manually. I'll get to that.</li>
					  </ul>
				  </section>
			  </section>
			  <section id="basics">
				  <div class="page-header">The Basics</div>
				  <p><strong>First thing</strong> - Include the jQuery (>1.1) and then this script.<p>
				  <p>
				  <strong>Then define bindings via html attributes</strong>
				  <ol>
					  <li>Start by defining the name of the model with a <code>data-model-name</code> attribute in what we'll call the <em>parent</em> element</li>
					  <ul>
						  <li>Like this: <code>&lt;div id="somediv" <span class="rainbow">data-model-name="muppetBabies"</span>&gt;...&lt;div&gt;</code> where you're being a werido and have data about muppet babies... weird.</li>
					  </ul>
					  <li>Next you add some html entities (inputs, selects, textareas, divs, whatever!) <strong>inside</strong> of the <em>parent element</em> and bind them to a model property using the <code>data-model</code> attribute</li>
					  <li>If you want to have Terry bind the model when the page loads, just add <code>data-bind-on-load</code> into the parent element with the <code>data-model-name</code> attribute.</li>
					  <li>So you'll end up with something like this:<br>
					  <pre>&lt;<span class="pl-ent">div</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>container<span class="pl-pds">"</span></span> <span class="rainbow">data-model-name</span>="muppetBabies" <span class="rainbow">data-bind-on-load</span>&gt;
	 &lt;<span class="pl-ent">input</span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span> <span class="pl-e rainbow">data-model</span>="coolness_level"</span> /&gt;
	 &lt;<span class="pl-ent">div</span> <span class="pl-e rainbow">data-model</span>="muppet_name"</span>&gt;&lt;/<span class="pl-ent">div</span>&gt;
&lt;/<span class="pl-ent">div</span>&gt;</pre></li>
						<li></li>
					  <li>If you DON'T want to have Terry bind the model when the page loads, don't include <code>data-bind-on-load</code> and instead use:</li>
					  <ul>
						  <li><code>$.fn.binder('create');</code> to bind all elements with models defined through <code>data-mode-name</code></li>
						  <li><code>$.fn.binder('create','nameOfModel');</code> to bind a particular model in a page that is defined through the <code>data-mode-name</code> attribute</li>
						  <li><code>$('#somediv').binder('create');</code> to bind all models within a particular element with a model defined through <code>data-mode-name</code></li>
						  <li><code>$('#somediv').binder('create','nameOfModel');</code> to bind a particular model in particular element that is defined through the <code>data-mode-name</code> attribute</li>
						  <li>I hope you're getting the picture...</li>
					  </ul>
						<li></li>
				  </ol>
				  </p>
			  </section>
		  </div><!-- end col-sm-8 DOCS -->
		  <div class="col-sm-3" id="docsnav">
			  <ul class="nav nav-tabs nav-stacked" data-spy="affix" data-offset-top="950">
				  <li><a href="#docs">Intro</a></li>
				  <li><a href="#basics">The Basics</a></li>
			  </ul>
		  </div>
	  </div>
  </div>

<script   src="https://code.jquery.com/jquery-1.12.4.min.js"   integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ="   crossorigin="anonymous"></script>
<script src="./terry-binder.js"></script>
<script src="./assets/js/bootstrap.min.js"></script>

<script>

$.binder.model["obj"] = {
				property : 'test',
				somearray: ["chips", "candy", "pop"],
				gender: 'male', 
				select: '2'
			};

$.binder.model["second"] = { title : 'oh yeah!' };


//$('#container').binder('create')(obj, '#container');
//$.fn.binder('create');

$('#container').on('model-update', function(e, model, path) {
	var str = JSON.stringify(model, undefined, 4)
	var cold = syntaxHighlight(str);
    $('#jsondump').html(cold);
});

$.binder.format = function(path, value, format, model, name) {
			if ((value instanceof Array)&&(format == 'arrayjoin')){
					console.log(format);
					return value.join(', ');
			}
			return value;
};

function syntaxHighlight(json) {
    json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
    return json.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g, function (match) {
        var cls = 'number';
        if (/^"/.test(match)) {
            if (/:$/.test(match)) {
                cls = 'key';
            } else {
                cls = 'string';
            }
        } else if (/true|false/.test(match)) {
            cls = 'boolean';
        } else if (/null/.test(match)) {
            cls = 'null';
        }
        return '<span class="' + cls + '">' + match + '</span>';
    });
}

	$('#jsondump').html(syntaxHighlight(JSON.stringify($.binder.model.obj, undefined, 4)));
    

//var test = $('#container').bindings('model');
_386 = { onePass: true, speedFactor: 1.25 };

</script>




</html>
